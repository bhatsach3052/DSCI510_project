# DSCI510_project

GitHub Link: https://github.com/bhatsach3052/DSCI510_project/ 
This project is the development of a tool that performs stock analysis and prediction on Nasdaq’s top 100 stocks. 
First, the project involves fetching data from the web for current stock parameters, and the use of yahoo finance API for fetching the history of the stock prices. With the use of the data collected, it is analyzed, and a prediction is made based on various parameters like current stock price, Revenue and growth projections from recent quarterly results, latest market trend, company financials, etc. The tool will provide the trend of the stock based on different timelines (Yearly, quarterly, monthly, and weekly). Based on these values, along with an estimation of stock value, a suggestion is made to the user based on the current value of the stock. This prediction is compared with the analysis made by other top stock analysts which is fetched from a market analysis website to weigh the accuracy of the tool.
## Sources
- The current stock price is fetched from https://www.slickcharts.com/nasdaq100
- The history of the stock is fetched using the API yfinance – Yahoo Finance - https://github.com/ranaroussi/yfinance
- The price target generated by the tool is compared with other sources using scraping the data from https://www.webull.com/quote/nasdaq-qcom/analysis for max, average, and lowest price targets and compared with the target generated by our tool
## Analysis detail
Based on the values fetched from the slick charts’ website, A formula will be devised to calculate the price target of a stock. The parameters which will decide the stock value include the P/E ratio, EPS, revenue, income, profits, and size of the company. Based on these values, the stock is rated based on value, growth, trust, and dividends. Along with this, using the yahoo finance API, the market trend of the stock will be taken into consideration. 
The final predicted value of the stock is then compared with the price target set by the stock analysts. For this, the minimum, average and maximum value of the stock price is fetched from Tipranks.com and this data will be plotted for the Top 5 companies along with the company symbol which will be entered into the tool. 
## The interface of the tool
**Input** : Company symbol/Company name/s(Preferably one of the top 100 listed on Nasdaq), optional input of span of trend graph required
**Output** : A report of the company statistics with a trend graph of the past x years (up to 5 or max) along with Stock value prediction, Ratings of the stock in terms of value, growth, trend, trust, and dividends, Suggestions (Strong buy, buy, hold, sell, strong sell), Comparison of the prediction with other stock analysts. Includes comparison of prediction of stock prices of top 5 Nasdaq companies
## Procedure to run the tool
Running this tool requires python version 3.8 and above. You need to run the below command for automatically installing all the dependencies
> pip install -r requirements.txt

Once all the requirements are installed, the tool is ready to run. Below are the modes in which the tool can be run
### Dependencies
matplotlib==3.6.2
matplotlib-inline==0.1.6
numpy==1.23.4
pandas==1.5.1
pyparsing==3.0.9
requests==2.28.1
simplejson==3.17.6
urllib3==1.26.12
yahoo-finance==1.4.0
yfinance==0.1.85
beautifulsoup4==4.10.0


### Default Mode
This mode involves performing detailed analysis and prediction of all the stocks which are part of the Nasdaq-100. This generates an excel file stocks.csv with all the stock-related data collected by the tool from the web and APIs.  
Format:
> python Stock_analysis_tool.py

### Scrape Mode
This mode runs the analysis of stocks passed in the arguments while running this tool. The arguments can be symbols or the name of the stock in any format (case insensitive) along with the top 5 stocks of Nasdaq-100. If no argument is passed, only the top 5 stocks are analyzed, and a prediction is made. We can plot the market trend of the stocks by using --plot as an argument and name the stocks which we need to plot after this argument
> python Stock_analysis_tool.py --scrape intel Qualcomm TSLA
> python Stock_analysis_tool.py --scrape
> python Stock_analysis_tool.py --scrape --plot apple Nvidia

### Static Mode
This mode runs the tool with the path of an excel file as input. This mode doesn’t fetch the data from the web. It retrieves the already-fetched data in the form of an excel file. This tool fetched the data from the stocks.csv file by default if no argument is passed
> python Stock_analysis_tool.py --static 
> python Stock_analysis_tool.py --static mystocks.csv

## Extensibility of the tool
This tool is currently implemented to fetch data on Nasdaq-100 stocks. This can be extended to support stocks listed in  S&P500, NYSE, Dow Jones, or any other stock exchange. All these changes can be supported with minor adjustments in the code since most of the APIs are abstracted and scalable to all kinds of stocks irrespective of the stock exchange they are listed in.

## Limitation of the tool
This tool is still not completely susceptible to stock input which is not listed in the market.  The tool might crash for invalid input in the excel file. There may be a bad request error from websites rarely. This is taken care of by using the headers to set the user agents and resolve the issue. These are a few points that limit my code.
## Time taken to process the inputs
The speed of the tool mainly depends on your network speed since most of the time is taken to fetch the data from multiple HTTP requests. On average, it takes around 3 seconds to perform analysis on a stock and around 5 seconds to plot the market data of 1 year if you run in scrape mode. For default mode, since there are 102 stocks, it takes around 4-5 minutes to complete the processing of all these stocks. In static mode, since the data is already fetched for us, it takes less than a second to process a particular stock. The time taken to complete analysis on all the stock takes less than 30 seconds in static mode

